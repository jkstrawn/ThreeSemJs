
<html>
    <head>
        <title>Planets</title>
    </head>
    <body>
        <script src="js/three.min.js"></script>
        <script src="js/ColladaLoader.js"></script>
		<script src="js/OBJLoader.js"></script>
        <script>

            function buildScene(){
                return new THREE.Scene();
            }

            function setRenderer(){
                var renderer = new THREE.WebGLRenderer();
                renderer.setSize(window.innerWidth, window.innerHeight);
                document.body.appendChild(renderer.domElement);
                return renderer;
            }

            function setCamera () {
                var view_angle = 45;
                var aspect = window.innerWidth / window.innerHeight;
                var near = 0.1;
                var far = 10000;
                var camera = new THREE.PerspectiveCamera(view_angle, aspect, near, far);
                camera.position.z = 500;
                return camera;
            }    

            function myPlanet(radius, color){
                this.radius = radius;
                this.color = color;

                this.buildPlanet = function(){
                    this.model = frogModel.clone();
                    scene.add(this.model);
                }

                this.updateSpin = function(){
                    //set the rotation axis to the y-axis
                    var rotAxis = new THREE.Vector3(0, 1, 0);
                    //set the speed of the rotation (neg angle will rotate the other direction)
                    var angleOfRot = 0.01;
                    this.model.position.x += 1;
                }
            }

            // var geometry = new THREE.SphereGeometry(this.radius, rings, segments);
            //         var material = new THREE.MeshLambertMaterial(
            //         {
            //           color: this.color,
            //           wireframe: true
            //         });
            //         var sphere = new THREE.Mesh(geometry, material);
            //         scene.add(sphere);

            //this creates a loop that runs every 60th of a sec
            function render() {
                renderer.render(scene, camera);
                requestAnimationFrame(render);
                frog.updateSpin();
            }

			function onModelLoad ( geometry, materials ) {
				var faceMaterial = new THREE.MeshFaceMaterial( materials );
				frogModel = new THREE.Mesh( geometry, faceMaterial );
				frogModel.scale.x = frogModel.scale.y = frogModel.scale.z = 10;
				frogModel.rotation.x = Math.PI/2;

				init();
			}

            function init() {
	            scene = buildScene();
	            renderer = setRenderer();
	            camera = setCamera();
	        
	            //add planet
	            var redPlanetRadius = 50;
	            var redPlanetColor = 0xCC0000;
	            frog = new myPlanet(redPlanetRadius, redPlanetColor);
	            frog.buildPlanet(); 

	            var light = new THREE.AmbientLight( 0xFFFFFF );
	            scene.add( light );


	            // create a point light
	            var pointLight = new THREE.PointLight( 0xFFFFFF );

	            // set its position
	            pointLight.position.x = 10;
	            pointLight.position.y = 50;
	            pointLight.position.z = 130;

	            //scene.add(pointLight);    

	            //draw scene
	            render();
            }

			var scene, renderer, camera, frog;

        	var loader = new THREE.JSONLoader();
			loader.load( "res/frog/frog.json", onModelLoad );
            
        </script>
    </body>
</html>