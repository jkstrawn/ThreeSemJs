
<html>
    <head>
        <title>LearnTHREE.js</title>

        <style type="text/css">
            body {
                padding: 0px;
                margin: 0px;
            }
        </style>

    </head>
    <body>
        <script src="js/three.min.js"></script>
		<script src="js/OBJLoader.js"></script>
        <script>

            function buildScene(){
                return new THREE.Scene();
            }

            function setRenderer(){
                var renderer = new THREE.WebGLRenderer();
                renderer.setSize(window.innerWidth, window.innerHeight);
                document.body.appendChild(renderer.domElement);
                return renderer;
            }

            function setCamera () {
                var view_angle = 45;
                var aspect = window.innerWidth / window.innerHeight;
                var near = 0.1;
                var far = 10000;
                var camera = new THREE.PerspectiveCamera(view_angle, aspect, near, far);
                camera.position.z = 500;
                return camera;
            }

            function onModelLoad ( geometry, materials ) {
                var faceMaterial = new THREE.MeshFaceMaterial( materials );
                frogModel = new THREE.Mesh( geometry, faceMaterial );
                frogModel.scale.x = frogModel.scale.y = frogModel.scale.z = 10;
                //frogModel.rotation.x = Math.PI/2;

                init();
            }    

            function frog(){
                this.buildFrog = function(){
                    this.model = frogModel.clone();
                    scene.add(this.model);
                }

                this.updatePosition = function(){
                    //move frog along x-axis
                    //this.model.position.x += 1;

                    //rotate frog
                    //set the rotation axis to the x-axis
                    var rotAxis = new THREE.Vector3(1, 0, 0);
                    //set the speed of the rotation (neg angle will rotate the other direction)
                    var angleOfRot = 0.01;
                    this.model.rotateOnAxis(rotAxis, angleOfRot);
                }
            }

            function init() {

                scene = buildScene();
                renderer = setRenderer();
                camera = setCamera();
            
                //add frog
                frog1 = new frog();
                frog1.buildFrog(); 

                // add the background
                var geometry = new THREE.PlaneGeometry( 1000, 1000, 1 );
                var texture = THREE.ImageUtils.loadTexture('res/water.jpg');
                var material = new THREE.MeshBasicMaterial({map: texture});
                var plane = new THREE.Mesh( geometry, material );
                scene.add( plane );

                //add light
                var light = new THREE.AmbientLight( 0xFFFFFF );
                scene.add( light );


                // create a point light
                var pointLight = new THREE.PointLight( 0xFFFFFF );
                // set its position
                pointLight.position.x = 10;
                pointLight.position.y = 50;
                pointLight.position.z = 130;

                //scene.add(pointLight);    

                //draw scene
                render();
            }

            //this creates a loop that runs every 60th of a sec
            function render() {
                renderer.render(scene, camera);
                requestAnimationFrame(render);
                frog1.updatePosition();
            }

			var scene, renderer, camera, frogModel, frog1, cube1;
            init();
         	var loader = new THREE.JSONLoader();

			loader.load( "res/frog/frog.json", onModelLoad );
            
        </script>
    </body>
</html>